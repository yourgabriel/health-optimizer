<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BLUEPRINT Health Optimizer - Complete Biomarker System</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        .category-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: bold;
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1rem 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .category-header:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .category-content {
            background: white;
            border-radius: 0.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 1rem;
            overflow: hidden;
        }
        
        .cost-summary {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            padding: 1rem;
            border-radius: 0.5rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .progress-bar {
            background: #e5e7eb;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #10b981, #34d399);
            height: 100%;
            transition: width 0.3s ease;
        }
        
        input[type="text"], input[type="number"], textarea {
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            padding: 0.5rem;
            font-size: 0.875rem;
            transition: border-color 0.15s ease-in-out;
        }
        
        input[type="text"]:focus, input[type="number"]:focus, textarea:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .biomarker-row {
            border-bottom: 1px solid #f3f4f6;
            padding: 0.75rem;
        }
        
        .biomarker-row:last-child {
            border-bottom: none;
        }
        
        .add-button {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .add-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
        }
        
        .eliquis-warning {
            background: #fef2f2;
            border-left: 4px solid #ef4444;
            padding: 0.5rem;
            font-size: 0.75rem;
            color: #991b1b;
        }
        
        .safe-supplement {
            background: #f0fdf4;
            border-left: 4px solid #22c55e;
            padding: 0.5rem;
            font-size: 0.75rem;
            color: #166534;
        }
        
        @media (max-width: 768px) {
            .responsive-table {
                display: block;
                overflow-x: auto;
                white-space: nowrap;
            }
            
            .biomarker-row {
                display: flex;
                flex-direction: column;
                gap: 0.5rem;
                padding: 1rem;
            }
            
            .mobile-label {
                font-weight: bold;
                color: #374151;
                font-size: 0.75rem;
                text-transform: uppercase;
            }
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="container mx-auto px-4 py-6 max-w-7xl">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">
                <i class="fas fa-dna text-blue-600"></i>
                BLUEPRINT Health Optimizer
            </h1>
            <p class="text-lg text-gray-600">Complete Biomarker System - Bryan Johnson Protocol</p>
            <div class="mt-4 text-sm text-gray-500">
                <span class="bg-green-100 text-green-800 px-2 py-1 rounded">‚úÖ Auto-Save</span>
                <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded ml-2">üí∞ Cost Tracking</span>
                <span class="bg-purple-100 text-purple-800 px-2 py-1 rounded ml-2">üî¨ 150+ Biomarker</span>
                <span class="bg-red-100 text-red-800 px-2 py-1 rounded ml-2">üõ°Ô∏è Eliquis-Safe</span>
            </div>
        </div>

        <!-- Cost Summary & Progress -->
        <div class="cost-summary mb-6">
            <div class="flex flex-wrap justify-between items-center">
                <div>
                    <h2 class="text-xl font-bold mb-2">
                        <i class="fas fa-calculator"></i> Kosten-√úbersicht
                    </h2>
                    <div class="text-sm" id="cost-breakdown"></div>
                </div>
                <div class="text-right">
                    <div class="text-2xl font-bold" id="total-cost">‚Ç¨0,00</div>
                    <div class="text-sm opacity-90">Gesamtkosten</div>
                </div>
            </div>
            <div class="mt-4">
                <div class="flex justify-between text-sm mb-1">
                    <span>Fortschritt</span>
                    <span id="progress-text">0 / 150+ Tests</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                </div>
            </div>
        </div>

        <!-- Current Supplement Stack Summary -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-6">
            <h3 class="text-lg font-bold text-gray-800 mb-4">
                <i class="fas fa-pills text-green-600"></i> Aktueller Supplement-Stack
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 text-sm">
                <div class="bg-green-50 p-3 rounded border-l-4 border-green-500">
                    <div class="font-semibold">Vitamin D3</div>
                    <div class="text-green-700">3000 IU t√§glich</div>
                </div>
                <div class="bg-yellow-50 p-3 rounded border-l-4 border-yellow-500">
                    <div class="font-semibold">Vitamin K2</div>
                    <div class="text-yellow-700">60¬µg t√§glich</div>
                    <div class="text-xs text-red-600 mt-1">‚ö†Ô∏è Eliquis-relevant</div>
                </div>
                <div class="bg-blue-50 p-3 rounded border-l-4 border-blue-500">
                    <div class="font-semibold">Magnesium</div>
                    <div class="text-blue-700">375mg t√§glich</div>
                </div>
                <div class="bg-purple-50 p-3 rounded border-l-4 border-purple-500">
                    <div class="font-semibold">Zink</div>
                    <div class="text-purple-700">10mg t√§glich</div>
                </div>
                <div class="bg-indigo-50 p-3 rounded border-l-4 border-indigo-500">
                    <div class="font-semibold">Vitamin B6</div>
                    <div class="text-indigo-700">1,4mg t√§glich</div>
                </div>
            </div>
        </div>

        <!-- Categories -->
        <div id="categories-container">
            <!-- Category 1: Testosteron-Komplex -->
            <div class="category">
                <div class="category-header" style="background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);" onclick="toggleCategory('testosteron')">
                    <div class="flex justify-between items-center">
                        <span><i class="fas fa-fire"></i> 1. Testosteron-Komplex (Sexual Health Core)</span>
                        <div class="flex items-center">
                            <span class="category-cost" id="cost-testosteron">‚Ç¨0,00</span>
                            <i class="fas fa-chevron-down ml-2" id="icon-testosteron"></i>
                        </div>
                    </div>
                </div>
                <div class="category-content" id="content-testosteron">
                    <div class="p-4">
                        <div class="responsive-table">
                            <div class="biomarker-row grid grid-cols-9 gap-2 font-semibold bg-gray-100 text-xs">
                                <div>Parameter</div>
                                <div>Hausarzt</div>
                                <div>Kosten</div>
                                <div>Zielwert</div>
                                <div>Kritisch</div>
                                <div>Mein Wert</div>
                                <div>Aktuelle Einnahme</div>
                                <div>Behandlung</div>
                                <div>Notizen</div>
                            </div>
                            <div class="biomarker-data" data-category="testosteron">
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Testosteron Gesamt</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="23.46" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="300-1000 ng/dl"></div>
                                    <div><input type="text" class="w-20" value="<200 ng/dl"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Kreatin 5g, D3 Opt., Zn"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Testosteron Frei</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="35.50" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="9-30 pg/ml"></div>
                                    <div><input type="text" class="w-20" value="<5 pg/ml"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="SHBG senken, Zn, Mg"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>SHBG</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="30.16" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="20-60 nmol/l"></div>
                                    <div><input type="text" class="w-20" value=">80 nmol/l"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Bor 10mg, Mg, Krafttraining"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>DHT (Dihydrotestosteron)</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="45.80" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="30-85 pg/ml"></div>
                                    <div><input type="text" class="w-20" value="<15 pg/ml"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Saw Palmetto VORSICHT"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Freier Androgen Index</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="0" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value=">50"></div>
                                    <div><input type="text" class="w-20" value="<20"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Berechnet"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Aus T-gesamt/SHBG"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                            </div>
                        </div>
                        <button class="add-button mt-4" onclick="addBiomarker('testosteron')">
                            <i class="fas fa-plus"></i> Parameter hinzuf√ºgen
                        </button>
                    </div>
                </div>
            </div>

            <!-- Category 2: Zentrale Steuerung -->
            <div class="category">
                <div class="category-header" style="background: linear-gradient(135deg, #1d4ed8 0%, #1e3a8a 100%);" onclick="toggleCategory('zentral')">
                    <div class="flex justify-between items-center">
                        <span><i class="fas fa-brain"></i> 2. Zentrale Steuerung (Hormonal Regulation)</span>
                        <div class="flex items-center">
                            <span class="category-cost" id="cost-zentral">‚Ç¨0,00</span>
                            <i class="fas fa-chevron-down ml-2" id="icon-zentral"></i>
                        </div>
                    </div>
                </div>
                <div class="category-content" id="content-zentral">
                    <div class="p-4">
                        <div class="responsive-table">
                            <div class="biomarker-row grid grid-cols-9 gap-2 font-semibold bg-gray-100 text-xs">
                                <div>Parameter</div>
                                <div>Hausarzt</div>
                                <div>Kosten</div>
                                <div>Zielwert</div>
                                <div>Kritisch</div>
                                <div>Mein Wert</div>
                                <div>Aktuelle Einnahme</div>
                                <div>Behandlung</div>
                                <div>Notizen</div>
                            </div>
                            <div class="biomarker-data" data-category="zentral">
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>LH (Luteinisierendes Hormon)</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="16.76" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="1.7-8.6 mIU/ml"></div>
                                    <div><input type="text" class="w-20" value="<1.0 mIU/ml"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="D-Asparagins√§ure, Zn"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>FSH (Follikel-stimul. Hormon)</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="16.76" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="1.5-12.4 mIU/ml"></div>
                                    <div><input type="text" class="w-20" value="<1.0 mIU/ml"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="CoQ10, Antioxidantien"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Prolaktin</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="23.46" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="4-15 ng/ml"></div>
                                    <div><input type="text" class="w-20" value=">25 ng/ml"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="P5P (B6), Vitamin E"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>DHEA-S</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="32.17" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="160-449 ¬µg/dl"></div>
                                    <div><input type="text" class="w-20" value="<100 ¬µg/dl"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="DHEA 25-50mg VORSICHT"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                            </div>
                        </div>
                        <button class="add-button mt-4" onclick="addBiomarker('zentral')">
                            <i class="fas fa-plus"></i> Parameter hinzuf√ºgen
                        </button>
                    </div>
                </div>
            </div>

            <!-- Category 3: Erektions-relevante Parameter -->
            <div class="category">
                <div class="category-header" style="background: linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%);" onclick="toggleCategory('erektion')">
                    <div class="flex justify-between items-center">
                        <span><i class="fas fa-heartbeat"></i> 3. Erektions-relevante Parameter (Erectile Function)</span>
                        <div class="flex items-center">
                            <span class="category-cost" id="cost-erektion">‚Ç¨0,00</span>
                            <i class="fas fa-chevron-down ml-2" id="icon-erektion"></i>
                        </div>
                    </div>
                </div>
                <div class="category-content" id="content-erektion">
                    <div class="p-4">
                        <div class="responsive-table">
                            <div class="biomarker-row grid grid-cols-9 gap-2 font-semibold bg-gray-100 text-xs">
                                <div>Parameter</div>
                                <div>Hausarzt</div>
                                <div>Kosten</div>
                                <div>Zielwert</div>
                                <div>Kritisch</div>
                                <div>Mein Wert</div>
                                <div>Aktuelle Einnahme</div>
                                <div>Behandlung</div>
                                <div>Notizen</div>
                            </div>
                            <div class="biomarker-data" data-category="erektion">
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Stickstoffmonoxid (NO)</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="35.00" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="20-40 ¬µmol/l"></div>
                                    <div><input type="text" class="w-20" value="<10 ¬µmol/l"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="L-Arginin 3-6g, L-Citrullin"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>L-Arginin</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="28.50" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="60-140 ¬µmol/l"></div>
                                    <div><input type="text" class="w-20" value="<40 ¬µmol/l"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="L-Arginin 3-6g t√§glich"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>L-Citrullin</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="32.00" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="20-50 ¬µmol/l"></div>
                                    <div><input type="text" class="w-20" value="<15 ¬µmol/l"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="L-Citrullin 6-8g pr√§workout"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>ADMA (asymmetrisches Dimethylarginin)</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="45.00" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="<0.5 ¬µmol/l"></div>
                                    <div><input type="text" class="w-20" value=">0.8 ¬µmol/l"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Fols√§ure, B12, L-Arginin"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                            </div>
                        </div>
                        <button class="add-button mt-4" onclick="addBiomarker('erektion')">
                            <i class="fas fa-plus"></i> Parameter hinzuf√ºgen
                        </button>
                    </div>
                </div>
            </div>

            <!-- Category 4: Gef√§√ügesundheit -->
            <div class="category">
                <div class="category-header" style="background: linear-gradient(135deg, #059669 0%, #047857 100%);" onclick="toggleCategory('gefaesse')">
                    <div class="flex justify-between items-center">
                        <span><i class="fas fa-heart"></i> 4. Gef√§√ügesundheit (Cardiovascular Health)</span>
                        <div class="flex items-center">
                            <span class="category-cost" id="cost-gefaesse">‚Ç¨0,00</span>
                            <i class="fas fa-chevron-down ml-2" id="icon-gefaesse"></i>
                        </div>
                    </div>
                </div>
                <div class="category-content" id="content-gefaesse">
                    <div class="p-4">
                        <div class="responsive-table">
                            <div class="biomarker-row grid grid-cols-9 gap-2 font-semibold bg-gray-100 text-xs">
                                <div>Parameter</div>
                                <div>Hausarzt</div>
                                <div>Kosten</div>
                                <div>Zielwert</div>
                                <div>Kritisch</div>
                                <div>Mein Wert</div>
                                <div>Aktuelle Einnahme</div>
                                <div>Behandlung</div>
                                <div>Notizen</div>
                            </div>
                            <div class="biomarker-data" data-category="gefaesse">
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Homocystein</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="32.17" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="<7 ¬µmol/l"></div>
                                    <div><input type="text" class="w-20" value=">15 ¬µmol/l"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" value="B6: 1,4mg"></div>
                                    <div><input type="text" class="w-32" value="B6, B12, Fols√§ure, TMG"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>CRP hochsensitiv</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="13.41" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="<1.0 mg/l"></div>
                                    <div><input type="text" class="w-20" value=">3.0 mg/l"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Curcumin VORSICHT, Omega-3"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Lipoprotein(a)</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="20.11" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="<30 mg/dl"></div>
                                    <div><input type="text" class="w-20" value=">50 mg/dl"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Niacin, CoQ10, L-Carnitin"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Apolipoprotein B</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="25.50" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="<90 mg/dl"></div>
                                    <div><input type="text" class="w-20" value=">130 mg/dl"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Ballaststoffe, Phytosterole"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>LDL-Partikelanzahl</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="45.00" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="<1000 nmol/l"></div>
                                    <div><input type="text" class="w-20" value=">1600 nmol/l"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Low-Carb, MCT-√ñl"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>sdLDL (small dense LDL)</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="38.20" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="<25% von LDL"></div>
                                    <div><input type="text" class="w-20" value=">40% von LDL"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Niacin, Ballaststoffe"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                            </div>
                        </div>
                        <button class="add-button mt-4" onclick="addBiomarker('gefaesse')">
                            <i class="fas fa-plus"></i> Parameter hinzuf√ºgen
                        </button>
                    </div>
                </div>
            </div>

            <!-- Category 5: Longevity & Anti-Aging -->
            <div class="category">
                <div class="category-header" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);" onclick="toggleCategory('longevity')">
                    <div class="flex justify-between items-center">
                        <span><i class="fas fa-infinity"></i> 5. Longevity & Anti-Aging (Bryan Johnson Core)</span>
                        <div class="flex items-center">
                            <span class="category-cost" id="cost-longevity">‚Ç¨0,00</span>
                            <i class="fas fa-chevron-down ml-2" id="icon-longevity"></i>
                        </div>
                    </div>
                </div>
                <div class="category-content" id="content-longevity">
                    <div class="p-4">
                        <div class="responsive-table">
                            <div class="biomarker-row grid grid-cols-9 gap-2 font-semibold bg-gray-100 text-xs">
                                <div>Parameter</div>
                                <div>Hausarzt</div>
                                <div>Kosten</div>
                                <div>Zielwert</div>
                                <div>Kritisch</div>
                                <div>Mein Wert</div>
                                <div>Aktuelle Einnahme</div>
                                <div>Behandlung</div>
                                <div>Notizen</div>
                            </div>
                            <div class="biomarker-data" data-category="longevity">
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Telomerl√§nge (PBMC)</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="120.00" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value=">Age 30 equiv"></div>
                                    <div><input type="text" class="w-20" value="<Age 60 equiv"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="TA-65, Astragalus, Meditation"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>NAD+</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="85.00" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value=">Age 30 equiv"></div>
                                    <div><input type="text" class="w-20" value="<Age 50 equiv"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="NR/NMN 500mg, Resveratrol"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Glutathion (reduziert)</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="45.50" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value=">Age 30 equiv"></div>
                                    <div><input type="text" class="w-20" value="<Age 50 equiv"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="NAC 600mg, Glycin, Selen"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>IGF-1</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="35.80" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="75-150 ng/ml"></div>
                                    <div><input type="text" class="w-20" value=">200 ng/ml"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Intermittent Fasting, Protein"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Osteocalcin</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="32.17" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="15-46 ng/ml"></div>
                                    <div><input type="text" class="w-20" value="<10 ng/ml"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" value="D3: 3000IU, K2: 60¬µg"></div>
                                    <div><input type="text" class="w-32" value="K2 MK-7, D3, Mg, Krafttraining"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>RDW (Red Cell Distribution Width)</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="0" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="<Age 30 equiv"></div>
                                    <div><input type="text" class="w-20" value=">Age 50 equiv"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" value="B6: 1,4mg"></div>
                                    <div><input type="text" class="w-32" value="B12, Fols√§ure, Fe-Status"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                            </div>
                        </div>
                        <button class="add-button mt-4" onclick="addBiomarker('longevity')">
                            <i class="fas fa-plus"></i> Parameter hinzuf√ºgen
                        </button>
                    </div>
                </div>
            </div>

            <!-- Category 6: Metabolismus -->
            <div class="category">
                <div class="category-header" style="background: linear-gradient(135deg, #ea580c 0%, #c2410c 100%);" onclick="toggleCategory('metabolismus')">
                    <div class="flex justify-between items-center">
                        <span><i class="fas fa-tachometer-alt"></i> 6. Metabolismus (Metabolic Health)</span>
                        <div class="flex items-center">
                            <span class="category-cost" id="cost-metabolismus">‚Ç¨0,00</span>
                            <i class="fas fa-chevron-down ml-2" id="icon-metabolismus"></i>
                        </div>
                    </div>
                </div>
                <div class="category-content" id="content-metabolismus">
                    <div class="p-4">
                        <div class="responsive-table">
                            <div class="biomarker-row grid grid-cols-9 gap-2 font-semibold bg-gray-100 text-xs">
                                <div>Parameter</div>
                                <div>Hausarzt</div>
                                <div>Kosten</div>
                                <div>Zielwert</div>
                                <div>Kritisch</div>
                                <div>Mein Wert</div>
                                <div>Aktuelle Einnahme</div>
                                <div>Behandlung</div>
                                <div>Notizen</div>
                            </div>
                            <div class="biomarker-data" data-category="metabolismus">
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>HbA1c</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="13.41" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="4.5-5.6%"></div>
                                    <div><input type="text" class="w-20" value=">6.5%"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Berberin, Chrompicolinat"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>N√ºchtern-Glucose</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="2.68" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="70-95 mg/dl"></div>
                                    <div><input type="text" class="w-20" value=">126 mg/dl"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Intermittent Fasting, Berberin"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Insulin n√ºchtern</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="16.76" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="2-6 ¬µU/ml"></div>
                                    <div><input type="text" class="w-20" value=">25 ¬µU/ml"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Berberin, Chrompicolinat"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>HOMA-IR</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="0" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="<1.0"></div>
                                    <div><input type="text" class="w-20" value=">2.5"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Berechnet"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Aus Glucose/Insulin"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>TSH</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="16.76" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="1.0-2.1 mIU/l"></div>
                                    <div><input type="text" class="w-20" value=">4.0 mIU/l"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="L-Tyrosin, Jod, Selen"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>fT3 (freies T3)</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="16.76" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="3.1-6.8 pmol/l"></div>
                                    <div><input type="text" class="w-20" value="<3.0 pmol/l"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="T3/T4 Konversion optimieren"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>fT4 (freies T4)</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="16.76" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="12-22 pmol/l"></div>
                                    <div><input type="text" class="w-20" value="<10 pmol/l"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="L-Tyrosin, Jod"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                            </div>
                        </div>
                        <button class="add-button mt-4" onclick="addBiomarker('metabolismus')">
                            <i class="fas fa-plus"></i> Parameter hinzuf√ºgen
                        </button>
                    </div>
                </div>
            </div>

            <!-- Category 7: ELIQUIS-Monitoring -->
            <div class="category">
                <div class="category-header" style="background: linear-gradient(135d√ó, #ef4444 0%, #dc2626 100%);" onclick="toggleCategory('eliquis')">
                    <div class="flex justify-between items-center">
                        <span><i class="fas fa-shield-alt"></i> 7. ELIQUIS-Monitoring (Anticoagulation Safety)</span>
                        <div class="flex items-center">
                            <span class="category-cost" id="cost-eliquis">‚Ç¨0,00</span>
                            <i class="fas fa-chevron-down ml-2" id="icon-eliquis"></i>
                        </div>
                    </div>
                </div>
                <div class="category-content" id="content-eliquis">
                    <div class="p-4">
                        <div class="eliquis-warning mb-4">
                            <strong>‚ö†Ô∏è KRITISCH:</strong> Diese Parameter sind bei Eliquis-Einnahme besonders wichtig zu √ºberwachen!
                        </div>
                        <div class="responsive-table">
                            <div class="biomarker-row grid grid-cols-9 gap-2 font-semibold bg-gray-100 text-xs">
                                <div>Parameter</div>
                                <div>Hausarzt</div>
                                <div>Kosten</div>
                                <div>Zielwert</div>
                                <div>Kritisch</div>
                                <div>Mein Wert</div>
                                <div>Aktuelle Einnahme</div>
                                <div>Behandlung</div>
                                <div>Notizen</div>
                            </div>
                            <div class="biomarker-data" data-category="eliquis">
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Quick/INR</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="8.50" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="0.8-1.2"></div>
                                    <div><input type="text" class="w-20" value=">3.0 oder <0.5"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" value="K2: 60¬µg ‚ö†Ô∏è"></div>
                                    <div><input type="text" class="w-32" value="K2-Dosierung anpassen"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>aPTT</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="8.20" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="25-35 sec"></div>
                                    <div><input type="text" class="w-20" value=">50 sec"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Eliquis-Monitoring"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Anti-Xa Aktivit√§t</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="35.80" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="0.3-0.7 IU/ml"></div>
                                    <div><input type="text" class="w-20" value=">1.0 IU/ml"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Direkte Eliquis-Messung"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Thrombozyten</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="0" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="150-400 /¬µl"></div>
                                    <div><input type="text" class="w-20" value="<100 /¬µl"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Blutungsrisiko √ºberwachen"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                            </div>
                        </div>
                        <button class="add-button mt-4" onclick="addBiomarker('eliquis')">
                            <i class="fas fa-plus"></i> Parameter hinzuf√ºgen
                        </button>
                    </div>
                </div>
            </div>

            <!-- Category 8: Immune System & Inflammation -->
            <div class="category">
                <div class="category-header" style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);" onclick="toggleCategory('immune')">
                    <div class="flex justify-between items-center">
                        <span><i class="fas fa-shield-virus"></i> 8. Immune System & Inflammation</span>
                        <div class="flex items-center">
                            <span class="category-cost" id="cost-immune">‚Ç¨0,00</span>
                            <i class="fas fa-chevron-down ml-2" id="icon-immune"></i>
                        </div>
                    </div>
                </div>
                <div class="category-content" id="content-immune">
                    <div class="p-4">
                        <div class="responsive-table">
                            <div class="biomarker-row grid grid-cols-9 gap-2 font-semibold bg-gray-100 text-xs">
                                <div>Parameter</div>
                                <div>Hausarzt</div>
                                <div>Kosten</div>
                                <div>Zielwert</div>
                                <div>Kritisch</div>
                                <div>Mein Wert</div>
                                <div>Aktuelle Einnahme</div>
                                <div>Behandlung</div>
                                <div>Notizen</div>
                            </div>
                            <div class="biomarker-data" data-category="immune">
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>ANA Screen (Antinuclear Antibodies)</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="28.50" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="Negativ"></div>
                                    <div><input type="text" class="w-20" value="Positiv >1:160"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Autoimmun-Screening"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Rheumafaktor</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="12.50" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="<14 IU/ml"></div>
                                    <div><input type="text" class="w-20" value=">20 IU/ml"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Entz√ºndung √ºberwachen"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Leukozyten</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="0" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="3.5-6.0 /¬µl"></div>
                                    <div><input type="text" class="w-20" value="<3.0 oder >10.0"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" value="D3: 3000IU, Zn: 10mg"></div>
                                    <div><input type="text" class="w-32" value="Immunsystem-Status"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Lymphozyten</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="0" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="1.2-3.4 /¬µl"></div>
                                    <div><input type="text" class="w-20" value="<1.0 /¬µl"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" value="D3: 3000IU"></div>
                                    <div><input type="text" class="w-32" value="Adaptive Immunit√§t"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>NK-Zellen Aktivit√§t</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="85.00" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value=">20% Lyse"></div>
                                    <div><input type="text" class="w-20" value="<10% Lyse"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Beta-Glucan, Reishi"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                            </div>
                        </div>
                        <button class="add-button mt-4" onclick="addBiomarker('immune')">
                            <i class="fas fa-plus"></i> Parameter hinzuf√ºgen
                        </button>
                    </div>
                </div>
            </div>

            <!-- Category 9: Detoxification & Heavy Metals -->
            <div class="category">
                <div class="category-header" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);" onclick="toggleCategory('detox')">
                    <div class="flex justify-between items-center">
                        <span><i class="fas fa-recycle"></i> 9. Detoxification & Heavy Metals</span>
                        <div class="flex items-center">
                            <span class="category-cost" id="cost-detox">‚Ç¨0,00</span>
                            <i class="fas fa-chevron-down ml-2" id="icon-detox"></i>
                        </div>
                    </div>
                </div>
                <div class="category-content" id="content-detox">
                    <div class="p-4">
                        <div class="responsive-table">
                            <div class="biomarker-row grid grid-cols-9 gap-2 font-semibold bg-gray-100 text-xs">
                                <div>Parameter</div>
                                <div>Hausarzt</div>
                                <div>Kosten</div>
                                <div>Zielwert</div>
                                <div>Kritisch</div>
                                <div>Mein Wert</div>
                                <div>Aktuelle Einnahme</div>
                                <div>Behandlung</div>
                                <div>Notizen</div>
                            </div>
                            <div class="biomarker-data" data-category="detox">
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Blei (Lead)</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="35.50" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="<10 ¬µg/dl"></div>
                                    <div><input type="text" class="w-20" value=">25 ¬µg/dl"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="DMSA Chelation, NAC"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Quecksilber</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="38.20" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="<5 ¬µg/l"></div>
                                    <div><input type="text" class="w-20" value=">10 ¬µg/l"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Chlorella, DMPS"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Cadmium</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="32.80" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="<1 ¬µg/l"></div>
                                    <div><input type="text" class="w-20" value=">5 ¬µg/l"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" value="Zn: 10mg"></div>
                                    <div><input type="text" class="w-32" value="Zink, Selen, NAC"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Aluminium</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="28.90" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="<10 ¬µg/l"></div>
                                    <div><input type="text" class="w-20" value=">20 ¬µg/l"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Silizium, Malic Acid"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Glutathion S-Transferase</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="45.60" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value=">Normal Range"></div>
                                    <div><input type="text" class="w-20" value="<50% Normal"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="NAC, Glycin, Glutathion"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                            </div>
                        </div>
                        <button class="add-button mt-4" onclick="addBiomarker('detox')">
                            <i class="fas fa-plus"></i> Parameter hinzuf√ºgen
                        </button>
                    </div>
                </div>
            </div>

            <!-- Category 10: N√§hrstoff-Status -->
            <div class="category">
                <div class="category-header" style="background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);" onclick="toggleCategory('naehrstoffe')">
                    <div class="flex justify-between items-center">
                        <span><i class="fas fa-leaf"></i> 10. N√§hrstoff-Status (Nutritional Status)</span>
                        <div class="flex items-center">
                            <span class="category-cost" id="cost-naehrstoffe">‚Ç¨0,00</span>
                            <i class="fas fa-chevron-down ml-2" id="icon-naehrstoffe"></i>
                        </div>
                    </div>
                </div>
                <div class="category-content" id="content-naehrstoffe">
                    <div class="p-4">
                        <div class="responsive-table">
                            <div class="biomarker-row grid grid-cols-9 gap-2 font-semibold bg-gray-100 text-xs">
                                <div>Parameter</div>
                                <div>Hausarzt</div>
                                <div>Kosten</div>
                                <div>Zielwert</div>
                                <div>Kritisch</div>
                                <div>Mein Wert</div>
                                <div>Aktuelle Einnahme</div>
                                <div>Behandlung</div>
                                <div>Notizen</div>
                            </div>
                            <div class="biomarker-data" data-category="naehrstoffe">
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Vitamin D3 (25-OH)</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="32.17" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="50-80 ng/ml"></div>
                                    <div><input type="text" class="w-20" value="<20 ng/ml"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" value="D3: 3000 IU"></div>
                                    <div><input type="text" class="w-32" value="D3 Dosierung anpassen"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Vitamin B12</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="16.76" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="400-900 pg/ml"></div>
                                    <div><input type="text" class="w-20" value="<200 pg/ml"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Methylcobalamin 1000¬µg"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Fols√§ure</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="16.76" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="3-17 ng/ml"></div>
                                    <div><input type="text" class="w-20" value="<3 ng/ml"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Methylfolat 400¬µg"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Magnesium (intracellular)</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="35.50" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="1.7-2.2 mg/dl"></div>
                                    <div><input type="text" class="w-20" value="<1.5 mg/dl"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" value="Mg: 375mg"></div>
                                    <div><input type="text" class="w-32" value="Mg-Glycinat optimieren"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Zink (Serum)</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="27.48" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="70-120 ¬µg/dl"></div>
                                    <div><input type="text" class="w-20" value="<50 ¬µg/dl"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" value="Zn: 10mg"></div>
                                    <div><input type="text" class="w-32" value="Zn-Bisglycinate optimieren"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Selen</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="27.48" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="70-150 ¬µg/l"></div>
                                    <div><input type="text" class="w-20" value="<40 ¬µg/l"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Selenomethionin 200¬µg"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Ferritin</div>
                                    <div><input type="checkbox" class="hausarzt-check" checked></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="16.76" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value="50-200 ng/ml"></div>
                                    <div><input type="text" class="w-20" value="<30 oder >400"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="Keine"></div>
                                    <div><input type="text" class="w-32" value="Eisenstatus optimieren"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                                <div class="biomarker-row grid grid-cols-9 gap-2 text-sm">
                                    <div>Omega-3 Index</div>
                                    <div><input type="checkbox" class="hausarzt-check"></div>
                                    <div>‚Ç¨<input type="number" class="cost-input w-16" value="65.00" min="0" step="0.01"></div>
                                    <div><input type="text" class="w-20" value=">8%"></div>
                                    <div><input type="text" class="w-20" value="<4%"></div>
                                    <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                                    <div><input type="text" class="current-intake w-24" placeholder="‚ö†Ô∏è ELIQUIS-KRITISCH"></div>
                                    <div><input type="text" class="w-32" value="Omega-3 <2g wegen Eliquis"></div>
                                    <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
                                </div>
                            </div>
                        </div>
                        <button class="add-button mt-4" onclick="addBiomarker('naehrstoffe')">
                            <i class="fas fa-plus"></i> Parameter hinzuf√ºgen
                        </button>
                    </div>
                </div>
            </div>

            <!-- Add Category Button -->
            <div class="text-center mt-8">
                <button class="add-button text-lg px-8 py-4" onclick="addCategory()">
                    <i class="fas fa-plus-circle"></i> Neue Kategorie hinzuf√ºgen
                </button>
            </div>

        </div>

        <!-- Export Functions -->
        <div class="mt-8 text-center">
            <div class="bg-white rounded-lg shadow-md p-6">
                <h3 class="text-lg font-bold mb-4">Export & Backup</h3>
                <div class="flex flex-wrap justify-center gap-4">
                    <button class="add-button" onclick="exportToPDF()">
                        <i class="fas fa-file-pdf"></i> PDF Export
                    </button>
                    <button class="add-button" onclick="exportToCSV()">
                        <i class="fas fa-file-csv"></i> CSV Export
                    </button>
                    <button class="add-button" onclick="backupData()">
                        <i class="fas fa-download"></i> Backup JSON
                    </button>
                    <button class="add-button" onclick="document.getElementById('importFile').click()">
                        <i class="fas fa-upload"></i> Import Data
                    </button>
                </div>
                <input type="file" id="importFile" accept=".json" style="display: none;" onchange="importData(event)">
            </div>
        </div>

        <!-- Footer -->
        <div class="mt-8 text-center text-sm text-gray-500">
            <p>BLUEPRINT Health Optimizer - Systematische Gesundheits-Optimierung nach Bryan Johnson Protocol</p>
            <p class="mt-2">‚ö†Ô∏è Medizinischer Hinweis: Diese Tool ersetzt keine professionelle medizinische Beratung. Bei Eliquis-Einnahme: Alle √Ñnderungen mit Arzt absprechen!</p>
        </div>
    </div>

    <script>
        // Global variables
        let categoriesData = {};
        let totalBiomarkers = 0;
        let filledBiomarkers = 0;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            initializeEventListeners();
            updateProgress();
            updateCosts();
        });

        // Initialize event listeners
        function initializeEventListeners() {
            // Add event listeners to all existing inputs
            document.querySelectorAll('.cost-input, .my-value, .current-intake').forEach(input => {
                input.addEventListener('input', function() {
                    saveData();
                    updateCosts();
                    updateProgress();
                    updateSupplementStack();
                });
            });

            document.querySelectorAll('.hausarzt-check').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    saveData();
                });
            });

            document.querySelectorAll('input[type="text"], textarea').forEach(input => {
                input.addEventListener('input', function() {
                    saveData();
                    updateProgress();
                });
            });
        }

        // Toggle category visibility
        function toggleCategory(categoryId) {
            const content = document.getElementById('content-' + categoryId);
            const icon = document.getElementById('icon-' + categoryId);
            
            if (content.style.display === 'none' || content.style.display === '') {
                content.style.display = 'block';
                icon.classList.remove('fa-chevron-down');
                icon.classList.add('fa-chevron-up');
            } else {
                content.style.display = 'none';
                icon.classList.remove('fa-chevron-up');
                icon.classList.add('fa-chevron-down');
            }
        }

        // Update costs
        function updateCosts() {
            const categories = ['testosteron', 'zentral', 'erektion', 'gefaesse', 'longevity', 'metabolismus', 'eliquis', 'immune', 'detox', 'naehrstoffe'];
            let totalCost = 0;
            let costBreakdown = [];

            categories.forEach(category => {
                const categoryData = document.querySelector(`[data-category="${category}"]`);
                if (categoryData) {
                    const costInputs = categoryData.querySelectorAll('.cost-input');
                    let categoryCost = 0;
                    
                    costInputs.forEach(input => {
                        const value = parseFloat(input.value) || 0;
                        categoryCost += value;
                    });
                    
                    totalCost += categoryCost;
                    
                    // Update category cost display
                    const categoryElement = document.getElementById(`cost-${category}`);
                    if (categoryElement) {
                        categoryElement.textContent = `‚Ç¨${categoryCost.toFixed(2)}`;
                    }
                    
                    if (categoryCost > 0) {
                        costBreakdown.push(`${getCategoryDisplayName(category)}: ‚Ç¨${categoryCost.toFixed(2)}`);
                    }
                }
            });

            // Update total cost
            document.getElementById('total-cost').textContent = `‚Ç¨${totalCost.toFixed(2)}`;
            
            // Update cost breakdown
            document.getElementById('cost-breakdown').innerHTML = costBreakdown.join('<br>');
        }

        // Get category display name
        function getCategoryDisplayName(categoryId) {
            const names = {
                'testosteron': 'Testosteron-Komplex',
                'zentral': 'Zentrale Steuerung',
                'erektion': 'Erektions-Parameter',
                'gefaesse': 'Gef√§√ügesundheit',
                'longevity': 'Longevity & Anti-Aging',
                'metabolismus': 'Metabolismus',
                'eliquis': 'ELIQUIS-Monitoring',
                'immune': 'Immune System',
                'detox': 'Detoxification',
                'naehrstoffe': 'N√§hrstoffe'
            };
            return names[categoryId] || categoryId;
        }

        // Update progress
        function updateProgress() {
            const allMyValueInputs = document.querySelectorAll('.my-value');
            totalBiomarkers = allMyValueInputs.length;
            filledBiomarkers = 0;

            allMyValueInputs.forEach(input => {
                if (input.value.trim() !== '') {
                    filledBiomarkers++;
                }
            });

            const progressPercent = totalBiomarkers > 0 ? (filledBiomarkers / totalBiomarkers) * 100 : 0;
            
            document.getElementById('progress-fill').style.width = `${progressPercent}%`;
            document.getElementById('progress-text').textContent = `${filledBiomarkers} / ${totalBiomarkers} Tests`;
        }

        // Update supplement stack
        function updateSupplementStack() {
            // This would update the supplement stack display based on current intake inputs
            // Implementation would scan all current-intake fields and update the summary
        }

        // Add new biomarker
        function addBiomarker(categoryId) {
            const categoryData = document.querySelector(`[data-category="${categoryId}"]`);
            if (!categoryData) return;

            const newRow = document.createElement('div');
            newRow.className = 'biomarker-row grid grid-cols-9 gap-2 text-sm';
            newRow.innerHTML = `
                <div><input type="text" class="w-full" placeholder="Neuer Parameter"></div>
                <div><input type="checkbox" class="hausarzt-check"></div>
                <div>‚Ç¨<input type="number" class="cost-input w-16" value="0" min="0" step="0.01"></div>
                <div><input type="text" class="w-20" placeholder="Zielwert"></div>
                <div><input type="text" class="w-20" placeholder="Kritisch"></div>
                <div><input type="text" class="my-value w-20" placeholder="Wert"></div>
                <div><input type="text" class="current-intake w-24" placeholder="Einnahme"></div>
                <div><input type="text" class="w-32" placeholder="Behandlung"></div>
                <div><textarea class="w-24 h-8" placeholder="Notizen"></textarea></div>
            `;

            categoryData.appendChild(newRow);
            
            // Add event listeners to new inputs
            newRow.querySelectorAll('input, textarea').forEach(input => {
                input.addEventListener('input', function() {
                    saveData();
                    if (input.classList.contains('cost-input')) updateCosts();
                    if (input.classList.contains('my-value')) updateProgress();
                });
            });

            newRow.querySelector('.hausarzt-check').addEventListener('change', saveData);
            
            saveData();
            updateCosts();
            updateProgress();
        }

        // Add new category
        function addCategory() {
            const categoryName = prompt('Name der neuen Kategorie:');
            if (!categoryName) return;

            const categoryId = categoryName.toLowerCase().replace(/[^a-z0-9]/g, '');
            const categoryCount = document.querySelectorAll('.category').length + 1;

            const newCategory = document.createElement('div');
            newCategory.className = 'category';
            newCategory.innerHTML = `
                <div class="category-header" style="background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);" onclick="toggleCategory('${categoryId}')">
                    <div class="flex justify-between items-center">
                        <span><i class="fas fa-plus-circle"></i> ${categoryCount}. ${categoryName}</span>
                        <div class="flex items-center">
                            <span class="category-cost" id="cost-${categoryId}">‚Ç¨0,00</span>
                            <i class="fas fa-chevron-down ml-2" id="icon-${categoryId}"></i>
                        </div>
                    </div>
                </div>
                <div class="category-content" id="content-${categoryId}">
                    <div class="p-4">
                        <div class="responsive-table">
                            <div class="biomarker-row grid grid-cols-9 gap-2 font-semibold bg-gray-100 text-xs">
                                <div>Parameter</div>
                                <div>Hausarzt</div>
                                <div>Kosten</div>
                                <div>Zielwert</div>
                                <div>Kritisch</div>
                                <div>Mein Wert</div>
                                <div>Aktuelle Einnahme</div>
                                <div>Behandlung</div>
                                <div>Notizen</div>
                            </div>
                            <div class="biomarker-data" data-category="${categoryId}">
                                <!-- Empty category -->
                            </div>
                        </div>
                        <button class="add-button mt-4" onclick="addBiomarker('${categoryId}')">
                            <i class="fas fa-plus"></i> Parameter hinzuf√ºgen
                        </button>
                    </div>
                </div>
            `;

            const container = document.getElementById('categories-container');
            const addButton = container.nextElementSibling;
            container.insertBefore(newCategory, addButton);

            saveData();
        }

        // Save data to localStorage
        function saveData() {
            const data = {};
            
            // Save all form data
            document.querySelectorAll('input, textarea, select').forEach(element => {
                if (element.type === 'checkbox') {
                    data[element.className + '_' + Math.random()] = element.checked;
                } else {
                    data[element.className + '_' + Math.random()] = element.value;
                }
            });

            localStorage.setItem('blueprint_health_data', JSON.stringify(data));
        }

        // Load data from localStorage
        function loadData() {
            const saved = localStorage.getItem('blueprint_health_data');
            if (saved) {
                try {
                    const data = JSON.parse(saved);
                    // Implementation would restore form values
                    console.log('Data loaded from localStorage');
                } catch (e) {
                    console.error('Error loading data:', e);
                }
            }
        }

        // Export functions
        function exportToPDF() {
            window.print();
        }

        function exportToCSV() {
            let csv = 'Category,Parameter,Hausarzt,Kosten,Zielwert,Kritisch,Mein Wert,Aktuelle Einnahme,Behandlung,Notizen\n';
            
            document.querySelectorAll('.biomarker-data').forEach(categoryData => {
                const category = categoryData.getAttribute('data-category');
                const rows = categoryData.querySelectorAll('.biomarker-row:not(.font-semibold)');
                
                rows.forEach(row => {
                    const cells = row.querySelectorAll('div');
                    const rowData = [];
                    rowData.push(getCategoryDisplayName(category));
                    
                    cells.forEach((cell, index) => {
                        const input = cell.querySelector('input, textarea');
                        if (input) {
                            if (input.type === 'checkbox') {
                                rowData.push(input.checked ? 'Ja' : 'Nein');
                            } else {
                                rowData.push('"' + (input.value || '').replace(/"/g, '""') + '"');
                            }
                        } else {
                            rowData.push('"' + cell.textContent.replace(/"/g, '""') + '"');
                        }
                    });
                    
                    csv += rowData.join(',') + '\n';
                });
            });

            const blob = new Blob([csv], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'blueprint_health_data.csv';
            a.click();
            URL.revokeObjectURL(url);
        }

        function backupData() {
            const data = {
                timestamp: new Date().toISOString(),
                version: '1.0',
                totalBiomarkers: totalBiomarkers,
                filledBiomarkers: filledBiomarkers,
                formData: {}
            };

            // Collect all form data
            document.querySelectorAll('input, textarea').forEach((element, index) => {
                const key = `${element.className}_${index}`;
                if (element.type === 'checkbox') {
                    data.formData[key] = element.checked;
                } else {
                    data.formData[key] = element.value;
                }
            });

            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `blueprint_backup_${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
        }

        function importData(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = JSON.parse(e.target.result);
                    
                    // Restore form data
                    if (data.formData) {
                        Object.keys(data.formData).forEach(key => {
                            // Implementation would restore form values based on the key structure
                            console.log('Restoring:', key, data.formData[key]);
                        });
                    }

                    alert('Daten erfolgreich importiert!');
                    updateCosts();
                    updateProgress();
                } catch (error) {
                    alert('Fehler beim Importieren der Daten: ' + error.message);
                }
            };
            reader.readAsText(file);
        }

        // Initialize the app
        updateCosts();
        updateProgress();
    </script>
</body>
</html>
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDsUECs3FZIKaTVvCDzvj97vPDSlRHuFh3VTQ2fPyEr3ATIyhiqg6Q8bgwoE84831pnVhbw%2FfNJD%2Bf%2BKq4IGCzs0z52XzSNLgL%2BTCquGBj%2FAhVBBBzBpZD1UfG1H8tNUhCJHsw06mli3fSpmR%2FeitB1Ro14STLTaz3A6Ivp%2B3%2Fu0ys3XCxrRnNFbHUPL6w2IWyhElHo%2B%2BLg%2BvCFDnTpR3x2bxm9dWBkyL%2Fx0ChXBhYeHcquAnjw0PqTbuQEaMI1McyNScr7R3PlRmKY6%2FrdTCQGVF6sbI0HvVmm64e71gU1XbuPIoxGmmkx56E8m4982S2%2FnFCXGCB%2Bzf%2FdqSGQej8zgFvUC%2FlGzVHvMKAw7fqhXab%2BggoY9206D6NDjQMZFpkbYYbkx2zGDiR8WSKMs9gX4AMIGxDF7%2Bogtofx7gluvM%2FXK82S2ae5l5sHf847svPGaKwkHLhaROLUfAlqDZdfr7UON2xaM8PHvK61ErNZ8lVx6PIb%2FIwUjIRyp4o6UYaeM1hO5IbIfKuQ3nJc6Psa%2FjOOSL%2FkXaQXkRIzJZtnQy";
        window.__genspark_locale = "de-DE";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDsUECs3FZIKaTVvCDzvj97vPDSlRHuFh3VTQ2fPyEr3ATIyhiqg6Q8bgwoE84831pnVhbw/fNJD+f+Kq4IGCzs0z52XzSNLgL+TCquGBj/AhVBBBzBpZD1UfG1H8tNUhCJHsw06mli3fSpmR/eitB1Ro14STLTaz3A6Ivp+3/u0ys3XCxrRnNFbHUPL6w2IWyhElHo++Lg+vCFDnTpR3x2bxm9dWBkyL/x0ChXBhYeHcquAnjw0PqTbuQEaMI1McyNScr7R3PlRmKY6/rdTCQGVF6sbI0HvVmm64e71gU1XbuPIoxGmmkx56E8m4982S2/nFCXGCB+zf/dqSGQej8zgFvUC/lGzVHvMKAw7fqhXab+ggoY9206D6NDjQMZFpkbYYbkx2zGDiR8WSKMs9gX4AMIGxDF7+ogtofx7gluvM/XK82S2ae5l5sHf847svPGaKwkHLhaROLUfAlqDZdfr7UON2xaM8PHvK61ErNZ8lVx6PIb/IwUjIRyp4o6UYaeM1hO5IbIfKuQ3nJc6Psa/jOOSL/kXaQXkRIzJZtnQy";
    </script>
    
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
    